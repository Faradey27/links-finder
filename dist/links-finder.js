'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var alowedDomains = 'northwesternmutual|travelersinsurance|vermögensberatung|vermögensberater|kerryproperties|sandvikcoromant|cancerresearch|weatherchannel|kerrylogistics|spreadbetting|lifeinsurance|international|wolterskluwer|pamperedchef|scholarships|versicherung|construction|investments|productions|சிங்கப்பூர்|kerryhotels|enterprises|blackfriday|lamborghini|barclaycard|williamhill|redumbrella|creditunion|contractors|bridgestone|engineering|accountants|playstation|photography|motorcycles|associates|schaeffler|industries|technology|properties|university|extraspace|accountant|bnpparibas|cuisinella|boehringer|eurovision|republican|creditcard|restaurant|telefonica|consulting|apartments|immobilien|foundation|volkswagen|vlaanderen|vistaprint|protection|management|tatamotors|healthcare|melbourne|homedepot|accenture|travelers|microsoft|allfinanz|goldpoint|marketing|amsterdam|analytics|christmas|institute|insurance|aquarelle|furniture|fresenius|yodobashi|firestone|financial|lifestyle|fairwinds|vacations|barcelona|equipment|community|stockholm|education|solutions|montblanc|passagens|directory|kuokgroup|statefarm|bloomberg|lancaster|landrover|feedback|services|security|verisign|delivery|boutique|deloitte|democrat|plumbing|diamonds|bradesco|discount|download|broadway|brussels|budapest|telecity|memorial|stcgroup|computer|engineer|movistar|bargains|commbank|barefoot|barclays|abudhabi|clothing|everbank|exchange|jpmorgan|partners|clinique|mutuelle|saarland|ventures|cleaning|lighting|firmdale|property|attorney|supplies|flsmidth|football|istanbul|cityeats|pictures|frontier|cipriani|ipiranga|السعودية|yokohama|builders|business|infiniti|software|softbank|catering|marriott|pharmacy|training|grainger|graphics|airforce|symantec|hdfcbank|capetown|redstone|helsinki|holdings|mortgage|singles|dentist|science|komatsu|shriram|schwarz|digital|wanggou|philips|channel|kitchen|watches|domains|android|weather|storage|schmidt|spiegel|neustar|abogado|organic|network|zuerich|lincoln|limited|bauhaus|brother|youtube|netbank|sandvik|alibaba|shiksha|clubmed|موبايلي|bugatti|exposed|express|liaison|samsung|college|cologne|website|jewelry|fashion|systems|bentley|ferrero|wedding|finance|company|compare|origins|statoil|fishing|fitness|temasek|இந்தியா|toshiba|flights|florist|flowers|okinawa|contact|yamaxun|forsale|cooking|corsica|frogans|country|leclerc|iselect|whoswho|gallery|tiffany|coupons|courses|theater|genting|rexroth|support|reviews|starhub|capital|tickets|cricket|cruises|latrobe|caravan|lasalle|auction|الجزائر|rentals|lanxess|careers|windows|hyundai|panerai|guitars|hamburg|hangout|cartier|academy|theatre|lacaixa|avianca|markets|recipes|realtor|hotmail|hitachi|hoteles|trading|holiday|surgery|hosting|pictet|realty|hiphop|hermes|health|reisen|xihuan|racing|abbott|gratis|quebec|google|repair|report|review|global|москва|giving|insure|онлайн|rocher|tienda|garden|gallup|ファッション|futbol|tennis|flickr|jaguar|ryukyu|abbvie|safety|sakura|family|joburg|expert|juegos|kaufen|events|webcam|estate|energy|emerck|sanofi|durban|school|kinder|schule|direct|design|walter|dental|vuelos|voyage|degree|dealer|datsun|dating|select|ارامكو|امارات|lawyer|voting|credit|coupon|condos|comsec|coffee|الاردن|clinic|claims|المغرب|ابوظبي|circle|hockey|living|piaget|london|physio|church|photos|chrome|shouji|luxury|vision|virgin|madrid|chanel|maison|makeup|center|market|مليسيا|tattoo|casino|villas|viking|career|taobao|camera|soccer|social|viajes|broker|bostik|taipei|bharti|mobily|monash|இலங்கை|mormon|berlin|moscow|فلسطين|bayern|stream|xperia|yachts|museum|mutual|studio|unicom|nagoya|natura|author|yandex|aramco|supply|anquan|alsace|alipay|otsuka|nissan|nissay|travel|airtel|agency|norton|nowruz|suzuki|toyota|office|swatch|active|online|oracle|orange|sydney|globo|press|watch|gmail|koeln|email|praxi|tirol|سودان|poker|shell|wales|sharp|kyoto|yahoo|tmall|bingo|epson|lamer|chase|today|భారత్|嘉里大酒店|cheap|green|gripe|group|seven|lease|gucci|legal|lexus|chloe|guide|build|place|tokyo|reise|xerox|rehab|tools|black|pizza|archi|linde|crown|solar|سورية|lixil|vodka|study|loans|locus|ایران|lotte|lotto|salon|cisco|faith|citic|shoes|vista|lupin|photo|world|cymru|sener|dabur|dance|homes|honda|horse|mango|stada|audio|final|actor|house|works|media|sucks|autos|toray|deals|click|video|miami|boats|total|quest|canon|apple|delta|cloud|beats|party|swiss|money|بھارت|cards|smile|coach|forex|movie|codes|vegas|parts|forum|boots|bosch|azure|संगठन|irish|tires|tushu|tunes|nadex|rodeo|paris|style|weibo|tatar|skype|space|gallo|tours|nexus|trust|jetzt|drive|rocks|nikon|ninja|dubai|بازار|weber|baidu|nokia|promo|store|ricoh|earth|trade|osaka|adult|edeka|gifts|gives|omega|bible|amica|glass|همراه|iinet|town|nico|news|page|tube|navy|name|pars|mtpc|vana|moda|mobi|mini|menu|meme|meet|maif|luxe|ltda|viva|love|loan|pics|live|link|ping|pink|limo|like|life|lidl|play|lgbt|vote|plus|land|voto|pohl|kred|porn|post|kpmg|wang|kiwi|prod|kddi|prof|jprs|jobs|java|itau|weir|tips|wien|wiki|info|qpon|immo|wine|icbc|work|read|hsbc|host|here|help|haus|xbox|guru|guge|reit|rent|ভারত|goog|golf|gold|rest|موقع|gmbh|gift|ggee|rich|сайт|gent|gbiz|game|fund|room|rsvp|ford|ruhr|дети|fish|film|toys|safe|farm|fans|sale|fail|fage|ポイント|erni|ලංකා|sapo|sarl|saxo|クラウド|ભારત|भारत|dvag|doha|docs|diet|desi|scor|scot|dell|tech|seat|dclk|seek|date|cyou|عمان|aarp|sexy|team|coop|shaw|cool|shia|club|city|chat|show|عراق|taxi|sina|cern|site|شبكة|skin|cash|casa|cars|care|camp|sncf|talk|call|cafe|بيتك|组织机构|sohu|buzz|تونس|song|sony|グーグル|book|spot|bond|ਭਾਰਤ|blue|star|bing|bike|best|beer|bbva|bank|band|baby|auto|audi|asia|arte|arpa|army|yoga|ally|surf|zara|zero|aero|adac|zone|fast|dog|fly|ストア|नेट|foo|aaa|bio|biz|aws|xyz|pid|pin|axa|how|fox|орг|buy|lol|htc|frl|bbc|ibm|рус|ice|icu|ltd|wme|eat|ifm|xxx|ไทย|pro|win|fyi|vip|edu|gal|bcg|bzh|man|bms|pub|ing|pwc|ink|crs|cab|淡马锡|mba|vin|int|csc|med|קום|gdn|red|бел|gea|bmw|men|cal|meo|ren|vig|срб|bcn|ist|mil|bnl|新加坡|vet|қаз|mma|iwc|հայ|rio|rip|yun|jcb|jcp|moe|moi|thd|mom|中文网|esq|run|you|rwe|jlc|jll|wed|jmp|mov|jnj|كوم|gle|мон|jot|uol|uno|sap|mtn|joy|sas|mtr|bom|sbs|tel|sca|scb|我爱你|eus|dad|gmo|ubs|tvs|gmx|car|tui|aig|boo|zip|kfh|goo|day|trv|nec|net|sew|sex|aeg|sfr|kia|tci|kim|new|gop|got|gov|飞利浦|ngo|nhk|คอม|セール|bet|aco|bot|tax|kpn|ski|bar|sky|krd|fan|قطر|कॉम|xin|abb|cat|nra|nrw|ntt|مصر|nyc|com|obi|cba|мкд|soy|cbn|afl|one|ong|onl|srl|tab|dev|ooo|bid|ceb|org|stc|lat|ads|law|ceo|ovh|app|fit|lds|みんな|诺基亚|укр|ком|dnp|hiv|wtf|wtc|pet|cfa|cfd|top|gu|sy|sv|su|sz|st|sr|so|sn|sm|sl|sk|sj|si|tc|sh|td|sg|se|sd|sc|sb|sa|rw|ru|tf|tg|th|rs|ro|re|qa|py|pw|pt|ps|pr|tj|tk|tl|tm|pn|tn|to|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|tr|nr|np|no|nl|ni|ng|nf|ne|tt|nc|na|mz|my|tv|mx|tw|tz|ua|mw|ug|uk|mv|mu|mt|ms|us|uy|uz|va|mr|mq|vc|ve|mp|mo|mn|mm|ml|vg|vi|mk|mh|mg|me|md|mc|ma|ly|lv|lu|lt|ls|lr|vn|lk|li|lc|lb|la|kz|vu|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|wf|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|ws|hm|hk|gy|gw|sx|gt|gs|gr|佛山|慈善|集团|在线|한국|点看|gq|gp|八卦|gn|公益|公司|移动|gm|gl|gi|gh|gg|联通|gf|ge|gd|时尚|微博|gb|ga|fr|fo|fm|삼성|fk|商标|商店|商城|fj|fi|ею|eu|新闻|工行|家電|et|es|中信|中国|中國|娱乐|谷歌|er|eg|购物|ee|ec|dz|网店|do|餐厅|网络|dm|dk|香港|dj|食品|de|台湾|台灣|手表|手机|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|澳門|닷컴|政府|cc|ca|გე|机构|bz|健康|by|bw|bv|рф|珠宝|bt|大拿|bs|br|ελ|世界|書籍|bo|网址|닷넷|コム|游戏|bn|bm|企业|信息|bj|bi|bh|广东|bg|bf|be|bd|bb|政务|ba|az|ax|aw|au|at|as|ye|ar|aq|ao|am|al|yt|ai|za|ag|af|ae|zm|ad|ac|zw';
var alowedProtocols = 'http|https';

var re = {
  protocols: '((' + alowedProtocols + '):\\/\\/){0,1}',
  domainName: '(([\\w\\-А-Яа-я]+[.])+)',
  topLevelDomains: '(' + alowedDomains + ')',
  port: '(\\:(\\d{1,5})){0,1}',
  path: '((\\/[\\w\\-$_.+]*)*)',
  query: '(\\?([a-z]*=[\\w\\-А-я$_.+!*\'(),&%;]*)*){0,1}',
  fragment: '(#([\\w\\-А-я$_.+!*\'(),&%;])*){0,1}'
};

var regexp = new RegExp(re.protocols + re.domainName + re.topLevelDomains + re.port + re.path + re.query + re.fragment + '', 'g');

var findLinks = exports.findLinks = function findLinks(str) {
  return (str.match(regexp) || []).map(function (s) {
    var start = str.indexOf(s);
    return { start: start, end: start + s.length - 1 };
  });
};

var wrapLinks = exports.wrapLinks = function wrapLinks(str) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      onMatch = _ref.onMatch;

  return str.replace(regexp, onMatch || function (s) {
    return s;
  });
};

exports.default = {
  findLinks: findLinks,
  wrapLinks: wrapLinks
};
